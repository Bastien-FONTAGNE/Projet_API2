<!DOCTYPE html>
<html lang="fr">
<head>
	<title>La Providence Review</title>
	<meta charset="UTF-8">
	<meta name="description" content="Game Warrior Template">
	<meta name="keywords" content="warrior, game, creative, html">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Favicon -->   
	<link href="img/favicon.jpg" rel="shortcut icon"/>

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i" rel="stylesheet">

	<!-- Stylesheets -->
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
	<link rel="stylesheet" href="css/font-awesome.min.css"/>
	<link rel="stylesheet" href="css/owl.carousel.css"/>
	<link rel="stylesheet" href="css/style.css"/>
	<link rel="stylesheet" href="css/animate.css"/>


	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>
<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header section -->
	<header class="header-section">
		<div class="container">
			<!-- logo -->
			<a class="site-logo" href="index.html">
				<h1 style="color: #f4af26;">La Providence Review</h1>
			</a>
			</div>
			<!-- responsive -->
			<div class="nav-switch">
				<i class="fa fa-bars"></i>
			</div>
			<!-- site menu -->
			<nav class="main-menu">
				<ul>
					<li><a href="index.html">Accueil</a></li>
					<li><a href="review.html">Review</a></li>
					<li><a href="guides.html">Guides</a></li>
					<li><a href="trailer.html">Trailer</a></li>
					<li><a href="connexion.html">Se connecter</a></li>
					<li><a href="inscription.html">S'inscrire</a></li>
				</ul>
			</nav>
		</div>
	</header>
	<!-- Header section end -->


	<!-- Latest news section -->
	<div class="latest-news-section">
		<div class="ln-title">Dernières Nouveautés</div>
		<div class="news-ticker">
			<div class="news-ticker-contant">
				<div class="nt-item"><span class="new">new</span>Un nouveau Call of Duty en développement pour 2024 !</div>
				<div class="nt-item"><span class="strategy">stratégie</span>Le nouveau DLC de Civilization VI disponible !</div>
				<div class="nt-item"><span class="racing">racing</span>Beta ouverte de Forza Horizon 6 disponible Aujourd'hui !</div>
			</div>
		</div>
	</div>
	<!-- Latest news section end -->


	<!-- Page info section -->
	<section class="page-info-section set-bg" data-setbg="img/page-top-bg/5.jpg">
		<div class="pi-content">
			<div class="container">
				<div class="row">
					<div class="col-xl-5 col-lg-6 text-white">
						<h2>Se connecter</h2>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Page info section -->


<!-- Page section -->
<section class="page-section spad contact-page">
	<div class="container">
		<form>
			<p class="formTitle"><strong>Se connecter</strong></p>
			<div id="resultRegister" style="color: red; margin: 2%;"></div>
	  
			<label for="Username">Nom d'utilisateur</label>
			<input type="text" name="Username" id="Username_input">
	  
			<label for="Password">Mot de passe</label>
			<input type="password" name="Password" id="Password_input">
	  
			<div class="LogcontainerSelector">
			  <div id="SubmitLogin" onclick="submitLogin()">Se connecter</div>
			  <script>
				async function submitLogin() {
				  const usernameInput = document.getElementById('Username_input');
				  const passwordInput = document.getElementById('Password_input');
				  const resultDiv = document.getElementById('resultRegister');
	  
				  const username = usernameInput.value;
				  const password = passwordInput.value;
	  
				  usernameInput.value = '';
				  passwordInput.value = '';
	  
				  const data = {
					identifiant: username,
					password: password
				  };
	  
				  try {
					const response = await fetch('http://192.168.64.162:3000/login', {
					  method: 'POST',
					  headers: {
						'Content-Type': 'application/json',
						'Authorization': 'Basic ' + btoa(username + ':' + password)
					  },
					  body: JSON.stringify(data)
					});
	  
					if (response.ok) {
					  const result = await response.json();
					  console.log('Réponse du serveur:', result);
	  
					  document.cookie = "ProjetE_unique_user_token=" + encodeURIComponent(result.userUUID) + "; max-age=" + (7 * 24 * 60 * 60);
	  
					  resultDiv.textContent = 'Connexion réussie!';
					  resultDiv.style.color = 'green';
					  setTimeout(() => {
						window.location.href = 'index.html';
					  }, 2000);
					} else {
					  console.error('Erreur lors de la requête:', response.statusText);
	  
					  resultDiv.textContent = 'Erreur de connexion. Veuillez réessayer.';
					  resultDiv.style.color = 'red';
					}
				  } catch (error) {
					console.error('Erreur lors de la requête:', error.message);
	  
					resultDiv.textContent = 'Erreur de connexion. Veuillez réessayer.';
					resultDiv.style.color = 'red';
				  }
				}
			  </script>
	  
			  <div id="registerButton2">S'inscrire</div>
			  <script>
				document.addEventListener("DOMContentLoaded", function () {
				  var registerButton = document.getElementById("registerButton2");
	  
				  registerButton.addEventListener("click", function () {
					window.location.href = "inscription.html";
				  });
				});
			  </script>
			</div>
		  </form>
	</div>
</section>
<!-- Page section end -->


<!-- Footer top section -->
<section class="footer-top-section">
</div>
<div class="row">
	<div class="col-lg-4 col-md-6">
		<div class="footer-widget mb-5 mb-md-0">
			<h4 class="fw-title">Dernier Postes</h4>
		<div class="latest-blog">
			<div class="lb-item">
				<div class="lb-thumb set-bg" data-setbg="img/latest-blog/1.jpg"></div>
				<div class="lb-content">
					<div class="lb-date">28 Octobre, 2023</div>
					<p>PUBG: Est-il encore bon en 2023?</p>
					<a href="#" class="lb-author">By Bastien</a>
				</div>
			</div>
			<div class="lb-item">
				<div class="lb-thumb set-bg" data-setbg="img/latest-blog/2.jpg"></div>
				<div class="lb-content">
					<div class="lb-date">27 Octobre, 2023</div>
					<p>Le genre du Battle Royal serait-il entrain de s'éssoufler?</p>
					<a href="#" class="lb-author">By Bastien</a>
				</div>
			</div>
			<div class="lb-item">
				<div class="lb-thumb set-bg" data-setbg="img/latest-blog/3.jpg"></div>
				<div class="lb-content">
					<div class="lb-date">26 Octobre, 2023</div>
					<p>Nouvelle extension World Of WarCraft!</p>
					<a href="#" class="lb-author">By Bastien</a>
				</div>
			</div>
			</div>
		</div>
	</div>
	<div class="col-lg-4 col-md-6">
		<div class="footer-widget">
			<h4 class="fw-title">Top Commentaires</h4>
			<div class="top-comment">
				<div class="tc-item">
					<div class="tc-thumb set-bg" data-setbg="img/authors/1.jpg"></div>
					<div class="tc-content">
						<p><a href="#">James Smith</a> <span>sur</span>  Guide Symmetra</p>
						<div class="tc-date">21 octobre, 2023</div>
					</div>
				</div>
				<div class="tc-item">
					<div class="tc-thumb set-bg" data-setbg="img/authors/2.jpg"></div>
					<div class="tc-content">
						<p><a href="#">James Smith</a> <span>sur</span>  Review Mass Effect</p>
						<div class="tc-date">13 Octobre, 2023</div>
					</div>
				</div>
				<div class="tc-item">
					<div class="tc-thumb set-bg" data-setbg="img/authors/3.jpg"></div>
					<div class="tc-content">
						<p><a href="#">James Smith</a> <span>sur</span>  Review Cyberpunk2077 Phantom Liberty</p>
						<div class="tc-date">25 octobre, 2023</div>
					</div>
				</div>
				<div class="tc-item">
					<div class="tc-thumb set-bg" data-setbg="img/authors/4.jpg"></div>
					<div class="tc-content">
						<p><a href="#">James Smith</a> <span>sur</span>  Nouvelle extension World of Warcraft</p>
						<div class="tc-date">19 octobre, 2023</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
</section>
<!-- Footer top section end -->
	
	<!-- Footer section -->
	<footer class="footer-section">
		<div class="container">
			<ul class="footer-menu">
				<li><a href="index.html">Accueil</a></li>
				<li><a href="review.html">Review</a></li>
				<li><a href="guides.html">Guides</a></li>
				<li><a href="trailer.html">Trailer</a></li>
				<li><a href="connexion.html">Se connecter</a></li>
				<li><a href="inscription.html">S'inscrire</a></li>
			</ul>
			<p class="copyright"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This website is made by Bastien Fontagne and Valentin Rosier
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
</p>
		</div>
	</footer>
	<!-- Footer section end -->


	<!--====== Javascripts & Jquery ======-->
	<script src="js/jquery-3.2.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.marquee.min.js"></script>
	<script src="js/main.js"></script>


	<!-- load for map -->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWTIlluowDL-X4HbYQt3aDw_oi2JP0Krc&sensor=false"></script>
	<script src="js/map.js"></script>

    </body>
</html>